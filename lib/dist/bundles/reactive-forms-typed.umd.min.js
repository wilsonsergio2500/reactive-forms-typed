!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("reactive-forms-typed",["exports","@angular/core","@angular/forms","rxjs","rxjs/operators","@angular/common"],e):e((r="undefined"!=typeof globalThis?globalThis:r||self)["reactive-forms-typed"]={},r.ng.core,r.ng.forms,r.rxjs,r.rxjs.operators,r.ng.common)}(this,(function(r,e,t,o,n,i){"use strict";var s=function(){function r(r,e){this.formGroupService=r,this.element=e,this.errors=null,this.showOnFormTouched=!1,this.hidden=!0,this._errors={required:"Required",minlength:"Minimum length not valid",maxlength:"Exceeds the maximum length",isValidEmailAddress:"Invalid email address",isValidSelection:"Invalid selection",isStringValidByRegEx:"Invalid character",isStringInRange:"Invalid string length",isInRange:"Number is outside specified range",isGreaterThanMin:"Exceeds allowed value",doControlValuesMatch:"Values do not match",email:"Invalid email address"}}return r.prototype.ngOnInit=function(){var r=this.formGroupService.form;this.errors&&(this._errors=Object.assign(Object.assign({},this._errors),this.errors)),r.__errors&&(this._errors=Object.assign(Object.assign({},this._errors),r.__errors)),r.__contractErrors&&r.__contractErrors[this.formControlItem]&&(this._errors=Object.assign(Object.assign({},this._errors),r.__contractErrors[this.formControlItem])),this.changeTracker()},r.prototype.changeTracker=function(){var r=this;this.tracker=o.interval(250).pipe(n.map((function(e){return r.errorMessage&&r.ControlTouched}))).subscribe((function(e){r.hidden=!e;var t=r.hidden?"":r.errorMessage;t&&(r.element.nativeElement.innerText=t)}))},Object.defineProperty(r.prototype,"errorMessage",{get:function(){var r=this.formGroupService.form.get(this.formControlItem);if(r&&r.errors){this.formGroupService.form;var e=Object.keys(r.errors);return this._errors[e[0]]||null}return null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ControlTouched",{get:function(){var r=this.formGroupService.form.get(this.formControlItem);if(this.showOnFormTouched){if(r)return r.parent.touched}else if(r)return r.touched||this.formGroupService.submitted||!!r.parent.__submitted;return!0},enumerable:!1,configurable:!0}),r.prototype.ngOnDestroy=function(){this.tracker.unsubscribe()},r}();s.decorators=[{type:e.Directive,args:[{selector:"[formControlOnErrorItem]"}]}],s.ctorParameters=function(){return[{type:t.FormGroupDirective,decorators:[{type:e.Inject,args:[t.FormGroupDirective]}]},{type:e.ElementRef}]},s.propDecorators={formControlItem:[{type:e.Input,args:["formControlOnErrorItem"]}],errors:[{type:e.Input}],showOnFormTouched:[{type:e.Input}],hidden:[{type:e.HostBinding,args:["hidden"]}]};Object.create;function a(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var o,n,i=t.call(r),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(r){n={error:r}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return s}Object.create;var c=function(){};c.onInit=function(){this.__submitted=!1,this.__subscriptions=[]},c.setErrors=function(r){this.__errors=Object.assign({},r)},c.setFormErrors=function(r){this.__contractErrors=Object.assign({},r)},c.setFormControlErrors=function(r,e){this.__contractErrors?(this.__contractErrors=Object.assign({},this.__contractErrors),this.__contractErrors[r]=e):(this.__contractErrors={},this.__contractErrors[r]=e)},c.markAsSubmitted=function(){this.__submitted=!0},c.isSubmitted=function(){return this.__submitted},c.addFormControlValidityTracker=function(r,e){var t=this,o=t.controls[r].valueChanges.pipe(n.delay(1),n.tap((function(r){return t.controls[e].updateValueAndValidity()})));this.__subscriptions=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(a(arguments[e]));return r}(this.__subscriptions,[o.subscribe()])},c.unsubscribeValidityTackers=function(){this.__subscriptions&&this.__subscriptions.forEach((function(r){return r.unsubscribe()}))};var u=function(){function r(){this.ngFormBuilder=new t.FormBuilder}return r.create=function(){return new r},r.prototype.group=function(r,e){var t=this.ngFormBuilder.group(r,e);return t.onInit=c.onInit.bind(t),t.setFormErrors=c.setFormErrors.bind(t),t.setFormErrors=c.setFormErrors.bind(t),t.setFormControlErrors=c.setFormControlErrors.bind(t),t.markAsSubmitted=c.markAsSubmitted.bind(t),t.isSubmitted=c.isSubmitted.bind(t),t.addFormControlValidityTracker=c.addFormControlValidityTracker.bind(t),t.onInit(),t},r.prototype.control=function(r,e,t){return this.ngFormBuilder.control(r,e,t)},r.prototype.array=function(r,e,t){return this.ngFormBuilder.array(r,e,t)},r}();u.decorators=[{type:e.Injectable}],u.ctorParameters=function(){return[]};var d=function(){};d.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,t.FormsModule,t.ReactiveFormsModule],declarations:[s],exports:[s],providers:[u]}]}],r.FormControlOnErrorItemDirective=s,r.FormTypeBuilder=u,r.ReactiveFormsTypedModule=d,Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=reactive-forms-typed.umd.min.js.map